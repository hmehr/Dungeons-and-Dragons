/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
package Model.Map;

import Model.Items.Item;
import Model.Items.ItemFactory;

/**
 * This is a class called treasure builder concrete which implements the interface of treasure builder base.
 * @author eric
 */
public class ChestBuilderConcrete implements ChestBuilderBase
{

    private int _level;
    private MapCellTreasure _treasure = null;

    /**
     * constructor to set the treasure builder concrete.
     * To set the level and treasure.
     * @param pTreasure treasure of the map cell treasure
     * @param pLevel the level.
     */
    public ChestBuilderConcrete(MapCellTreasure pTreasure, int pLevel)
    {
        _level = pLevel;
        _treasure = pTreasure;
    }

    /**
     * According to the level and build the treasure.
     */
    public void buildTreasure()
    {
        if (_level >= 1)
        {
            //Item item = ItemFactory.getItemByName("healingpotion");
            //item.setMagicValue(_level);
            _treasure.getItemList().add(ItemFactory.getItemByName("healingpotion"));
            _treasure.getItemList().add(ItemFactory.getItemByName("longsword"));
            _treasure.getItemList().add(ItemFactory.getItemByName("longbow"));
            _treasure.getItemList().add(ItemFactory.getItemByName("armor"));
            
        }
        if (_level > 5)
        {
            _treasure.getItemList().add(ItemFactory.getItemByName("helmet"));
            _treasure.getItemList().add(ItemFactory.getItemByName("boot"));
        }
        if (_level > 10)
        {
            _treasure.getItemList().add(ItemFactory.getItemByName("shield"));
            _treasure.getItemList().add(ItemFactory.getItemByName("bracer"));
        }
        if (_level > 15)
        {
            _treasure.getItemList().add(ItemFactory.getItemByName("ring"));
            _treasure.getItemList().add(ItemFactory.getItemByName("belt"));
        }

    }
    
     /**
     * According to the level and build the treasure magic effect.
     */
    public void buildMagicEffect()
    {
        for(int i = 0; i < _treasure.getItemList().size(); i++)
        {
            _treasure.getItemList().get(i).setMagicValue((_level/5 + 1));
            _treasure.getItemList().get(i).setRandomMagic();
        }
    }
    
    
}
