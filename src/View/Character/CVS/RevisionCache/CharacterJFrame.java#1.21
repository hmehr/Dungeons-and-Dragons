/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

/*
 * CharacterJFrame.java
 *
 * Created on Oct 14, 2011, 10:56:46 PM
 */
package View.Character;

import Controller.Character.AbilityScoreGeneration;
import Model.CharacterBuilder;
import Model.CharacterBuilderBully;
import Model.CharacterBuilderNimble;
import Model.CharacterBuilderTank;
import Model.CharacterDirector;
import Model.CharacterType;
import Model.OutputConsole;
import java.awt.Color;
import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.ObjectInputStream;
import java.io.ObjectOutputStream;
import javax.swing.JButton;
import javax.swing.JFileChooser;
import javax.swing.JOptionPane;
import javax.swing.WindowConstants;
import javax.swing.border.Border;
import javax.swing.border.LineBorder;
import javax.swing.filechooser.FileNameExtensionFilter;

/**
 * The view class for creating a character. This view provides the user with the option of either 
 * creating a new character or editing existing ones. The characters are stored in a file
 * with .ch extension.
 *
 * @author Hamid
 */
public class CharacterJFrame extends javax.swing.JFrame
{

    File _dir;
    Border _border;
    String _characterImage;
    Model.Character _character;
    Model.Character _loadedCharacter;
    String _savePath;
    boolean _openCharacter;
    CharacterBuilder _characterBuilder;
    CharacterDirector _characterDirector;
    AbilityScoreGeneration _asGenerate;
    int[] _abilityScore;

    /** Creates new form CharacterJFrame */
    public CharacterJFrame()
    {
        initComponents();
        _openCharacter = false;
        _border = new LineBorder(Color.ORANGE, 2);
        _character = new Model.Character();
        _savePath = System.getProperty("user.dir");
        _savePath += "/src/View/resources/characters/";
        jButtonCh1.setBorder(_border);
        clearBorder(jButtonCh1);

        _asGenerate = new AbilityScoreGeneration();
    }

    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jPanel2 = new javax.swing.JPanel();
        jButtonCh1 = new javax.swing.JButton();
        jButtonCh2 = new javax.swing.JButton();
        jButtonCh3 = new javax.swing.JButton();
        jButtonCh4 = new javax.swing.JButton();
        jButtonCh5 = new javax.swing.JButton();
        jButtonCh6 = new javax.swing.JButton();
        jButtonCh7 = new javax.swing.JButton();
        jButtonCh9 = new javax.swing.JButton();
        jButtonCh8 = new javax.swing.JButton();
        jPanel8 = new javax.swing.JPanel();
        jLabel12 = new javax.swing.JLabel();
        jLabel13 = new javax.swing.JLabel();
        jLabel14 = new javax.swing.JLabel();
        jLabel15 = new javax.swing.JLabel();
        jLabel16 = new javax.swing.JLabel();
        jLabel17 = new javax.swing.JLabel();
        jTextFieldStrentgh = new javax.swing.JTextField();
        jTextFieldDexterity = new javax.swing.JTextField();
        jTextFieldConstitution = new javax.swing.JTextField();
        jTextFieldIntelligence = new javax.swing.JTextField();
        jTextFieldWisdom = new javax.swing.JTextField();
        jTextFieldCharishma = new javax.swing.JTextField();
        jPanel1 = new javax.swing.JPanel();
        jLabel1 = new javax.swing.JLabel();
        jTextFieldName = new javax.swing.JTextField();
        jLabel2 = new javax.swing.JLabel();
        jLabel3 = new javax.swing.JLabel();
        jLabel4 = new javax.swing.JLabel();
        jComboCharacterType = new javax.swing.JComboBox();
        jComboLevel = new javax.swing.JComboBox();
        jTextFieldHitPoints = new javax.swing.JTextField();
        jButtonSave = new javax.swing.JButton();
        jPanel3 = new javax.swing.JPanel();
        jLabel5 = new javax.swing.JLabel();
        jTextFieldStrengthModifier = new javax.swing.JTextField();
        jLabel6 = new javax.swing.JLabel();
        jLabel7 = new javax.swing.JLabel();
        jLabel8 = new javax.swing.JLabel();
        jLabel9 = new javax.swing.JLabel();
        jLabel10 = new javax.swing.JLabel();
        jTextFieldDexterityModifier = new javax.swing.JTextField();
        jTextFieldConstitutionModifier = new javax.swing.JTextField();
        jTextFieldIntelligenceModifier = new javax.swing.JTextField();
        jTextFieldWisdomModifier = new javax.swing.JTextField();
        jTextFieldCharismaModifier = new javax.swing.JTextField();
        jButton1 = new javax.swing.JButton();
        jMenuBarCharacter = new javax.swing.JMenuBar();
        jMenuFile = new javax.swing.JMenu();
        jMenuItemOpen = new javax.swing.JMenuItem();
        jMenuItemExit = new javax.swing.JMenuItem();

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        setTitle("Creat/Edit a Character");

        jPanel2.setBorder(javax.swing.BorderFactory.createTitledBorder("Select an Image"));

        jButtonCh1.setIcon(new javax.swing.ImageIcon(getClass().getResource("/View/Resources/ch1.jpg"))); // NOI18N
        jButtonCh1.setBorder(null);
        jButtonCh1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonCh1ActionPerformed(evt);
            }
        });

        jButtonCh2.setIcon(new javax.swing.ImageIcon(getClass().getResource("/View/Resources/ch2.jpg"))); // NOI18N
        jButtonCh2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonCh2ActionPerformed(evt);
            }
        });

        jButtonCh3.setIcon(new javax.swing.ImageIcon(getClass().getResource("/View/Resources/ch3.jpg"))); // NOI18N
        jButtonCh3.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonCh3ActionPerformed(evt);
            }
        });

        jButtonCh4.setIcon(new javax.swing.ImageIcon(getClass().getResource("/View/Resources/ch4.jpg"))); // NOI18N
        jButtonCh4.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonCh4ActionPerformed(evt);
            }
        });

        jButtonCh5.setIcon(new javax.swing.ImageIcon(getClass().getResource("/View/Resources/ch5.jpg"))); // NOI18N
        jButtonCh5.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonCh5ActionPerformed(evt);
            }
        });

        jButtonCh6.setIcon(new javax.swing.ImageIcon(getClass().getResource("/View/Resources/ch6.jpg"))); // NOI18N
        jButtonCh6.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonCh6ActionPerformed(evt);
            }
        });

        jButtonCh7.setIcon(new javax.swing.ImageIcon(getClass().getResource("/View/Resources/ch7.jpg"))); // NOI18N
        jButtonCh7.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonCh7ActionPerformed(evt);
            }
        });

        jButtonCh9.setIcon(new javax.swing.ImageIcon(getClass().getResource("/View/Resources/ch9.jpg"))); // NOI18N
        jButtonCh9.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonCh9ActionPerformed(evt);
            }
        });

        jButtonCh8.setIcon(new javax.swing.ImageIcon(getClass().getResource("/View/Resources/ch8.jpg"))); // NOI18N
        jButtonCh8.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonCh8ActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addComponent(jButtonCh1, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(jButtonCh4, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(jButtonCh7, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jButtonCh2, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jButtonCh5, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jButtonCh8, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jButtonCh9, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jButtonCh6, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jButtonCh3, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanel2Layout.setVerticalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jButtonCh1, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jButtonCh2, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jButtonCh3, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jButtonCh4, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jButtonCh5, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jButtonCh6, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jButtonCh7, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jButtonCh8, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jButtonCh9, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        jPanel8.setBorder(javax.swing.BorderFactory.createTitledBorder("Ability Scores"));

        jLabel12.setText("Strength: ");

        jLabel13.setText("Dexterity: ");

        jLabel14.setText("Constitution: ");

        jLabel15.setText("Intelligence: ");

        jLabel16.setText("Wisdom: ");

        jLabel17.setText("Charisma: ");

        jTextFieldStrentgh.setEditable(false);
        jTextFieldStrentgh.setText("0");

        jTextFieldDexterity.setEditable(false);
        jTextFieldDexterity.setText("0");

        jTextFieldConstitution.setEditable(false);
        jTextFieldConstitution.setText("0");

        jTextFieldIntelligence.setEditable(false);
        jTextFieldIntelligence.setText("0");
        jTextFieldIntelligence.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextFieldIntelligenceActionPerformed(evt);
            }
        });

        jTextFieldWisdom.setEditable(false);
        jTextFieldWisdom.setText("0");

        jTextFieldCharishma.setEditable(false);
        jTextFieldCharishma.setText("0");

        javax.swing.GroupLayout jPanel8Layout = new javax.swing.GroupLayout(jPanel8);
        jPanel8.setLayout(jPanel8Layout);
        jPanel8Layout.setHorizontalGroup(
            jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel8Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel12)
                    .addComponent(jLabel13)
                    .addComponent(jLabel14, javax.swing.GroupLayout.PREFERRED_SIZE, 76, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel15)
                    .addComponent(jLabel16)
                    .addComponent(jLabel17))
                .addGap(10, 10, 10)
                .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jTextFieldCharishma, javax.swing.GroupLayout.DEFAULT_SIZE, 39, Short.MAX_VALUE)
                    .addComponent(jTextFieldWisdom, javax.swing.GroupLayout.DEFAULT_SIZE, 39, Short.MAX_VALUE)
                    .addComponent(jTextFieldIntelligence, javax.swing.GroupLayout.DEFAULT_SIZE, 39, Short.MAX_VALUE)
                    .addComponent(jTextFieldConstitution, javax.swing.GroupLayout.DEFAULT_SIZE, 39, Short.MAX_VALUE)
                    .addComponent(jTextFieldDexterity, javax.swing.GroupLayout.DEFAULT_SIZE, 39, Short.MAX_VALUE)
                    .addComponent(jTextFieldStrentgh, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 39, Short.MAX_VALUE))
                .addContainerGap())
        );

        jPanel8Layout.linkSize(javax.swing.SwingConstants.HORIZONTAL, new java.awt.Component[] {jLabel12, jLabel13, jLabel14, jLabel15, jLabel16, jLabel17});

        jPanel8Layout.setVerticalGroup(
            jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel8Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel12)
                    .addComponent(jTextFieldStrentgh, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 17, Short.MAX_VALUE)
                .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel13)
                    .addComponent(jTextFieldDexterity, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel14)
                    .addComponent(jTextFieldConstitution, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(9, 9, 9)
                .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel15)
                    .addComponent(jTextFieldIntelligence, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel16)
                    .addComponent(jTextFieldWisdom, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel17)
                    .addComponent(jTextFieldCharishma, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap())
        );

        jPanel1.setBorder(javax.swing.BorderFactory.createTitledBorder("Character"));
        jPanel1.setName("Character"); // NOI18N

        jLabel1.setText("Name: ");

        jTextFieldName.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextFieldNameActionPerformed(evt);
            }
        });

        jLabel2.setText("Hit Points: ");

        jLabel3.setText("Type: ");

        jLabel4.setText("Level: ");

        jComboCharacterType.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "BULLY", "NIMBLE", "TANK" }));

        jComboLevel.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20" }));

        jTextFieldHitPoints.setEditable(false);

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jLabel1)
                    .addComponent(jLabel2))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(jTextFieldHitPoints)
                    .addComponent(jTextFieldName, javax.swing.GroupLayout.DEFAULT_SIZE, 118, Short.MAX_VALUE))
                .addGap(33, 33, 33)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addComponent(jLabel3)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 19, Short.MAX_VALUE)
                        .addComponent(jComboCharacterType, javax.swing.GroupLayout.PREFERRED_SIZE, 88, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addComponent(jLabel4)
                        .addGap(18, 18, 18)
                        .addComponent(jComboLevel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        jPanel1Layout.linkSize(javax.swing.SwingConstants.HORIZONTAL, new java.awt.Component[] {jComboCharacterType, jComboLevel});

        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel1)
                    .addComponent(jTextFieldName, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel3)
                    .addComponent(jComboCharacterType, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel2)
                    .addComponent(jLabel4)
                    .addComponent(jComboLevel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jTextFieldHitPoints, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(21, Short.MAX_VALUE))
        );

        jButtonSave.setText("Generate&Save");
        jButtonSave.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonSaveActionPerformed(evt);
            }
        });

        jPanel3.setBorder(javax.swing.BorderFactory.createTitledBorder("Ability Modifiers"));

        jLabel5.setText("Strength:");

        jTextFieldStrengthModifier.setEditable(false);
        jTextFieldStrengthModifier.setText("0");

        jLabel6.setText("Dexterity:");

        jLabel7.setText("Constitution:");

        jLabel8.setText("Intelligence:");

        jLabel9.setText("Wisdom:");

        jLabel10.setText("Charisma:");

        jTextFieldDexterityModifier.setEditable(false);
        jTextFieldDexterityModifier.setText("0");
        jTextFieldDexterityModifier.setToolTipText("");

        jTextFieldConstitutionModifier.setEditable(false);
        jTextFieldConstitutionModifier.setText("0");

        jTextFieldIntelligenceModifier.setEditable(false);
        jTextFieldIntelligenceModifier.setText("0");

        jTextFieldWisdomModifier.setEditable(false);
        jTextFieldWisdomModifier.setText("0");

        jTextFieldCharismaModifier.setEditable(false);
        jTextFieldCharismaModifier.setText("0");

        javax.swing.GroupLayout jPanel3Layout = new javax.swing.GroupLayout(jPanel3);
        jPanel3.setLayout(jPanel3Layout);
        jPanel3Layout.setHorizontalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel6)
                    .addComponent(jLabel5)
                    .addComponent(jLabel7)
                    .addComponent(jLabel8)
                    .addComponent(jLabel10)
                    .addComponent(jLabel9))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 29, Short.MAX_VALUE)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jTextFieldStrengthModifier, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 37, Short.MAX_VALUE)
                    .addComponent(jTextFieldDexterityModifier, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 37, Short.MAX_VALUE)
                    .addComponent(jTextFieldWisdomModifier, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 37, Short.MAX_VALUE)
                    .addComponent(jTextFieldConstitutionModifier, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 37, Short.MAX_VALUE)
                    .addComponent(jTextFieldIntelligenceModifier, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 37, Short.MAX_VALUE)
                    .addComponent(jTextFieldCharismaModifier, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 37, Short.MAX_VALUE))
                .addContainerGap())
        );
        jPanel3Layout.setVerticalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel3Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel5)
                    .addComponent(jTextFieldStrengthModifier, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel6)
                    .addComponent(jTextFieldDexterityModifier, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jLabel7)
                    .addComponent(jTextFieldConstitutionModifier, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jLabel8)
                    .addComponent(jTextFieldIntelligenceModifier, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel9)
                    .addComponent(jTextFieldWisdomModifier, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel10)
                    .addComponent(jTextFieldCharismaModifier, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap())
        );

        jButton1.setText("Close");
        jButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton1ActionPerformed(evt);
            }
        });

        jMenuBarCharacter.setName("JMenuBarCharacter"); // NOI18N

        jMenuFile.setText("File");
        jMenuFile.setName("JMenuCharacter"); // NOI18N

        jMenuItemOpen.setText("Open");
        jMenuItemOpen.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jMenuItemOpenActionPerformed(evt);
            }
        });
        jMenuFile.add(jMenuItemOpen);

        jMenuItemExit.setText("Exit");
        jMenuItemExit.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jMenuItemExitActionPerformed(evt);
            }
        });
        jMenuFile.add(jMenuItemExit);

        jMenuBarCharacter.add(jMenuFile);

        setJMenuBar(jMenuBarCharacter);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jPanel1, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, layout.createSequentialGroup()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(jButton1, javax.swing.GroupLayout.PREFERRED_SIZE, 87, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jPanel8, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 66, Short.MAX_VALUE)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jButtonSave)
                            .addComponent(jPanel3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))))
                .addGap(18, 18, 18)
                .addComponent(jPanel2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGap(26, 26, 26)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jPanel2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, layout.createSequentialGroup()
                        .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jPanel3, javax.swing.GroupLayout.DEFAULT_SIZE, 209, Short.MAX_VALUE)
                            .addComponent(jPanel8, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 36, Short.MAX_VALUE)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jButton1)
                            .addComponent(jButtonSave))))
                .addContainerGap())
        );

        jPanel1.getAccessibleContext().setAccessibleName("");

        pack();
    }// </editor-fold>//GEN-END:initComponents

    /**
     * This method opens up a character file and load the data into this frame.
     * 
     * @param evt event parameter.
     * @author Hamid
     */
    private void jMenuItemOpenActionPerformed(java.awt.event.ActionEvent evt)//GEN-FIRST:event_jMenuItemOpenActionPerformed
    {//GEN-HEADEREND:event_jMenuItemOpenActionPerformed
        jTextFieldName.setEditable(false);

        _openCharacter = true;
        JFileChooser jf = new JFileChooser(_savePath);
        jf.setFileFilter(new FileNameExtensionFilter("Character File(*.ch)", "ch"));
        jf.setFileSelectionMode(JFileChooser.FILES_ONLY);
        int returnVal = jf.showOpenDialog(this);
        if (returnVal == JFileChooser.APPROVE_OPTION)
        {
            File file = jf.getSelectedFile();

            try
            {
                FileInputStream fin = new FileInputStream(file.getAbsoluteFile());
                ObjectInputStream ois = new ObjectInputStream(fin);
                _loadedCharacter = (Model.Character) ois.readObject();
                OutputConsole.GetOutputConsoleInstance().Write("Character is loaded");
                ois.close();

                jTextFieldName.setText(_loadedCharacter.getName());
                jTextFieldDexterity.setText(Integer.toString(_loadedCharacter.getDexterity()));
                jTextFieldStrentgh.setText(Integer.toString(_loadedCharacter.getStrength()));
                jTextFieldConstitution.setText(Integer.toString(_loadedCharacter.getConstitution()));
                jTextFieldWisdom.setText(Integer.toString(_loadedCharacter.getWisdom()));
                jTextFieldIntelligence.setText(Integer.toString(_loadedCharacter.getIntelligence()));
                jTextFieldCharishma.setText(Integer.toString(_loadedCharacter.getCharisma()));
                jComboLevel.setSelectedItem(Integer.toString(_loadedCharacter.getLevel()));
                jComboCharacterType.setSelectedItem(_loadedCharacter.getCharacterType().toString());


                jTextFieldStrengthModifier.setText(Integer.toString(_loadedCharacter.calculateModifier(_loadedCharacter.getStrength())));
                jTextFieldDexterityModifier.setText(Integer.toString(_loadedCharacter.calculateModifier(_loadedCharacter.getDexterity())));
                jTextFieldConstitutionModifier.setText(Integer.toString(_loadedCharacter.calculateModifier(_loadedCharacter.getConstitution())));
                jTextFieldIntelligenceModifier.setText(Integer.toString(_loadedCharacter.calculateModifier(_loadedCharacter.getIntelligence())));
                jTextFieldWisdomModifier.setText(Integer.toString(_loadedCharacter.calculateModifier(_loadedCharacter.getWisdom())));
                jTextFieldCharismaModifier.setText(Integer.toString(_loadedCharacter.calculateModifier(_loadedCharacter.getCharisma())));
                
                jTextFieldHitPoints.setText(Integer.toString(_loadedCharacter.getMaxHitPoints()));


                String fileName = _loadedCharacter.getAvatar();

                if ("ch1".equals(fileName))
                {
                    jButtonCh1.setBorder(_border);
                    clearBorder(jButtonCh1);
                }
                if ("ch2".equals(fileName))
                {
                    jButtonCh2.setBorder(_border);
                    clearBorder(jButtonCh2);
                }

                if ("ch3".equals(fileName))
                {
                    jButtonCh3.setBorder(_border);
                    clearBorder(jButtonCh3);
                }
                if ("ch4".equals(fileName))
                {
                    jButtonCh4.setBorder(_border);
                    clearBorder(jButtonCh4);
                }
                if ("ch5".equals(fileName))
                {
                    jButtonCh5.setBorder(_border);
                    clearBorder(jButtonCh5);
                }
                if ("ch6".equals(fileName))
                {
                    jButtonCh6.setBorder(_border);
                    clearBorder(jButtonCh6);
                }

                if ("ch7".equals(fileName))
                {
                    jButtonCh7.setBorder(_border);
                    clearBorder(jButtonCh7);
                }

                if ("ch8".equals(fileName))
                {
                    jButtonCh8.setBorder(_border);
                    clearBorder(jButtonCh8);
                }

                if ("ch9".equals(fileName))
                {
                    jButtonCh9.setBorder(_border);
                    clearBorder(jButtonCh9);
                }


            } catch (Exception e)
            {
                OutputConsole.GetOutputConsoleInstance().WriteException("Error occured: " + e.getMessage());
            }
        }
    }//GEN-LAST:event_jMenuItemOpenActionPerformed

    private void jTextFieldNameActionPerformed(java.awt.event.ActionEvent evt)//GEN-FIRST:event_jTextFieldNameActionPerformed
    {//GEN-HEADEREND:event_jTextFieldNameActionPerformed
    }//GEN-LAST:event_jTextFieldNameActionPerformed

    private void jTextFieldIntelligenceActionPerformed(java.awt.event.ActionEvent evt)//GEN-FIRST:event_jTextFieldIntelligenceActionPerformed
    {//GEN-HEADEREND:event_jTextFieldIntelligenceActionPerformed
    }//GEN-LAST:event_jTextFieldIntelligenceActionPerformed

    /**
     * Sets the border for the clicked image, and clear the border for the other images.
     * 
     * @param evt Event parameter
     */
    private void jButtonCh1ActionPerformed(java.awt.event.ActionEvent evt)//GEN-FIRST:event_jButtonCh1ActionPerformed
    {//GEN-HEADEREND:event_jButtonCh1ActionPerformed
        clearBorder(jButtonCh1);
    }//GEN-LAST:event_jButtonCh1ActionPerformed

    /**
     * Sets the border for the clicked image, and clear the border for the other images.
     * 
     * @param evt Event parameter
     */
    private void jButtonCh2ActionPerformed(java.awt.event.ActionEvent evt)//GEN-FIRST:event_jButtonCh2ActionPerformed
    {//GEN-HEADEREND:event_jButtonCh2ActionPerformed
        clearBorder(jButtonCh2);
    }//GEN-LAST:event_jButtonCh2ActionPerformed

    /**
     * Sets the border for the clicked image, and clear the border for the other images.
     * 
     * @param evt Event parameter
     */
    private void jButtonCh3ActionPerformed(java.awt.event.ActionEvent evt)//GEN-FIRST:event_jButtonCh3ActionPerformed
    {//GEN-HEADEREND:event_jButtonCh3ActionPerformed
        clearBorder(jButtonCh3);
    }//GEN-LAST:event_jButtonCh3ActionPerformed

    /**
     * Sets the border for the clicked image, and clear the border for the other images.
     * 
     * @param evt Event parameter
     */
    private void jButtonCh4ActionPerformed(java.awt.event.ActionEvent evt)//GEN-FIRST:event_jButtonCh4ActionPerformed
    {//GEN-HEADEREND:event_jButtonCh4ActionPerformed
        clearBorder(jButtonCh4);
    }//GEN-LAST:event_jButtonCh4ActionPerformed

    /**
     * Sets the border for the clicked image, and clear the border for the other images.
     * 
     * @param evt Event parameter
     */
    private void jButtonCh5ActionPerformed(java.awt.event.ActionEvent evt)//GEN-FIRST:event_jButtonCh5ActionPerformed
    {//GEN-HEADEREND:event_jButtonCh5ActionPerformed
        clearBorder(jButtonCh5);
    }//GEN-LAST:event_jButtonCh5ActionPerformed

    /**
     * Sets the border for the clicked image, and clear the border for the other images.
     * 
     * @param evt Event parameter
     */
    private void jButtonCh6ActionPerformed(java.awt.event.ActionEvent evt)//GEN-FIRST:event_jButtonCh6ActionPerformed
    {//GEN-HEADEREND:event_jButtonCh6ActionPerformed
        clearBorder(jButtonCh6);
    }//GEN-LAST:event_jButtonCh6ActionPerformed

    /**
     * Sets the border for the clicked image, and clear the border for the other images.
     * 
     * @param evt Event parameter
     */
    private void jButtonCh7ActionPerformed(java.awt.event.ActionEvent evt)//GEN-FIRST:event_jButtonCh7ActionPerformed
    {//GEN-HEADEREND:event_jButtonCh7ActionPerformed
        clearBorder(jButtonCh7);
    }//GEN-LAST:event_jButtonCh7ActionPerformed

    /**
     * Sets the border for the clicked image, and clear the border for the other images.
     * 
     * @param evt Event parameter
     */
    private void jButtonCh8ActionPerformed(java.awt.event.ActionEvent evt)//GEN-FIRST:event_jButtonCh8ActionPerformed
    {//GEN-HEADEREND:event_jButtonCh8ActionPerformed
        clearBorder(jButtonCh8);
    }//GEN-LAST:event_jButtonCh8ActionPerformed

    /**
     * Sets the border for the clicked image, and clear the border for the other images.
     * 
     * @param evt Event parameter
     */
    private void jButtonCh9ActionPerformed(java.awt.event.ActionEvent evt)//GEN-FIRST:event_jButtonCh9ActionPerformed
    {//GEN-HEADEREND:event_jButtonCh9ActionPerformed
        clearBorder(jButtonCh9);
    }//GEN-LAST:event_jButtonCh9ActionPerformed

    /**
     * This method gathers all the input, instantiate a character object, and stores it in a file.
     * 
     * @param evt event parameter
     * @author Hamid
     */
    private void jButtonSaveActionPerformed(java.awt.event.ActionEvent evt)//GEN-FIRST:event_jButtonSaveActionPerformed
    {//GEN-HEADEREND:event_jButtonSaveActionPerformed

        if (jTextFieldName.getText().length() == 0)
        {
            JOptionPane.showMessageDialog(this, "Name filed cannot be empty", "Error", JOptionPane.ERROR_MESSAGE);
            jTextFieldName.grabFocus();
            return;
        }

        if (_openCharacter == false)
        {
            this.characterGeneration();
        } else
        {
            //int level_change = getLevelChange();
            _character = _loadedCharacter;
            _character.setLevel(Integer.parseInt(jComboLevel.getSelectedItem().toString()));

            if (_character.getCharacterType().toString().equalsIgnoreCase(jComboCharacterType.getSelectedItem().toString()))
            {
                // do nothing
            } else
            {
                this.characterGeneration();
            }
        }

        jTextFieldDexterity.setText(Integer.toString(_character.getDexterity()));
        jTextFieldStrentgh.setText(Integer.toString(_character.getStrength()));
        jTextFieldConstitution.setText(Integer.toString(_character.getConstitution()));
        jTextFieldWisdom.setText(Integer.toString(_character.getWisdom()));
        jTextFieldIntelligence.setText(Integer.toString(_character.getIntelligence()));
        jTextFieldCharishma.setText(Integer.toString(_character.getCharisma()));

        jTextFieldStrengthModifier.setText(Integer.toString(_character.calculateModifier(_character.getStrength())));
        jTextFieldDexterityModifier.setText(Integer.toString(_character.calculateModifier(_character.getDexterity())));
        jTextFieldConstitutionModifier.setText(Integer.toString(_character.calculateModifier(_character.getConstitution())));
        jTextFieldIntelligenceModifier.setText(Integer.toString(_character.calculateModifier(_character.getIntelligence())));
        jTextFieldWisdomModifier.setText(Integer.toString(_character.calculateModifier(_character.getWisdom())));
        jTextFieldCharismaModifier.setText(Integer.toString(_character.calculateModifier(_character.getCharisma())));

        jTextFieldHitPoints.setText(Integer.toString(_character.getMaxHitPoints()));

        try
        {
            FileOutputStream fout = new FileOutputStream(_savePath + _character.getName() + ".ch");
            ObjectOutputStream oos = new ObjectOutputStream(fout);
            File file = new File(_savePath + _character.getName() + ".ch");
            if (!file.exists())
            {
                oos.writeObject(_character);
                OutputConsole.GetOutputConsoleInstance().Write("Character was  saved to file.");
            } else
            {
                file.delete();
                oos.writeObject(_character);
            }
            oos.close();

            JOptionPane.showMessageDialog(this, "Saved successfully", "", JOptionPane.DEFAULT_OPTION);

            //dispose();
        } catch (Exception e)
        {
            OutputConsole.GetOutputConsoleInstance().WriteException("Error Occured: " + e.getMessage());

        }

        _loadedCharacter = null;
    }//GEN-LAST:event_jButtonSaveActionPerformed

    /**
     * This method disposes the current CharacterJFrame.
     * 
     * @param evt 
     */
    private void jMenuItemExitActionPerformed(java.awt.event.ActionEvent evt)//GEN-FIRST:event_jMenuItemExitActionPerformed
    {//GEN-HEADEREND:event_jMenuItemExitActionPerformed
        this.setVisible(false);
    }//GEN-LAST:event_jMenuItemExitActionPerformed

    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt)//GEN-FIRST:event_jButton1ActionPerformed
    {//GEN-HEADEREND:event_jButton1ActionPerformed
        this.dispose();
    }//GEN-LAST:event_jButton1ActionPerformed

    /**
     * Automatically created and is run within the constructor.
     */
    public void createEditor()
    {
        java.awt.EventQueue.invokeLater(new Runnable()
        {

            public void run()
            {
                new CharacterJFrame().setVisible(true);
            }
        });
    }

    /**
     * When the user clicks on the character images, this method set the border for that image.
     * It also sets the avatar for the current character using setAvatar() method
     * 
     * @param pCurrentButton The JButton which user clicked on.
     * @see setAvatar()
     */
    private void clearBorder(JButton pCurrentButton)
    {
        if (pCurrentButton != jButtonCh1)
        {
            jButtonCh1.setBorder(null);
        }
        if (pCurrentButton != jButtonCh2)
        {
            jButtonCh2.setBorder(null);
        }
        if (pCurrentButton != jButtonCh3)
        {
            jButtonCh3.setBorder(null);
        }
        if (pCurrentButton != jButtonCh4)
        {
            jButtonCh4.setBorder(null);
        }
        if (pCurrentButton != jButtonCh5)
        {
            jButtonCh5.setBorder(null);
        }
        if (pCurrentButton != jButtonCh6)
        {
            jButtonCh6.setBorder(null);
        }
        if (pCurrentButton != jButtonCh7)
        {
            jButtonCh7.setBorder(null);
        }
        if (pCurrentButton != jButtonCh8)
        {
            jButtonCh8.setBorder(null);
        }
        if (pCurrentButton != jButtonCh9)
        {
            jButtonCh9.setBorder(null);
        }

        pCurrentButton.setBorder(_border);

        setAvatar(pCurrentButton);
    }

    /**
     * Sets the _avatar field of the character object, based on user click.
     * 
     * @param pButton The current button user clicked on.
     */
    void setAvatar(JButton pButton)
    {
        String imageName = pButton.getIcon().toString();
        imageName = imageName.substring(imageName.lastIndexOf("ch"), imageName.lastIndexOf("."));
        _characterImage = imageName;
        //_character.setAvatar(imageName);
    }

    int getLevelChange()
    {
        if (_loadedCharacter != null)
        {
            return (Integer.parseInt(jComboLevel.getSelectedItem().toString()) - _loadedCharacter.getLevel());
        } else
        {
            return Integer.parseInt(jComboLevel.getSelectedItem().toString());
        }
    }

    public void characterGeneration()
    {
        _abilityScore = _asGenerate.createAbilityList();

        if (jComboCharacterType.getSelectedItem().toString().equalsIgnoreCase(CharacterType.BULLY.toString()))
        {
            _characterBuilder = new CharacterBuilderBully();
        } else if (jComboCharacterType.getSelectedItem().toString().equalsIgnoreCase(CharacterType.NIMBLE.toString()))
        {
            _characterBuilder = new CharacterBuilderNimble();
        } else if (jComboCharacterType.getSelectedItem().toString().equalsIgnoreCase(CharacterType.TANK.toString()))
        {
            _characterBuilder = new CharacterBuilderTank();
        }

        _characterDirector = new CharacterDirector(_characterBuilder, jTextFieldName.getText(), _characterImage, Integer.parseInt(jComboLevel.getSelectedItem().toString()));
        _characterDirector.constructCharacter();
        _character = _characterDirector.getCharacter();
    }
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton jButton1;
    private javax.swing.JButton jButtonCh1;
    private javax.swing.JButton jButtonCh2;
    private javax.swing.JButton jButtonCh3;
    private javax.swing.JButton jButtonCh4;
    private javax.swing.JButton jButtonCh5;
    private javax.swing.JButton jButtonCh6;
    private javax.swing.JButton jButtonCh7;
    private javax.swing.JButton jButtonCh8;
    private javax.swing.JButton jButtonCh9;
    private javax.swing.JButton jButtonSave;
    private javax.swing.JComboBox jComboCharacterType;
    private javax.swing.JComboBox jComboLevel;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel12;
    private javax.swing.JLabel jLabel13;
    private javax.swing.JLabel jLabel14;
    private javax.swing.JLabel jLabel15;
    private javax.swing.JLabel jLabel16;
    private javax.swing.JLabel jLabel17;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JMenuBar jMenuBarCharacter;
    private javax.swing.JMenu jMenuFile;
    private javax.swing.JMenuItem jMenuItemExit;
    private javax.swing.JMenuItem jMenuItemOpen;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JPanel jPanel8;
    private javax.swing.JTextField jTextFieldCharishma;
    private javax.swing.JTextField jTextFieldCharismaModifier;
    private javax.swing.JTextField jTextFieldConstitution;
    private javax.swing.JTextField jTextFieldConstitutionModifier;
    private javax.swing.JTextField jTextFieldDexterity;
    private javax.swing.JTextField jTextFieldDexterityModifier;
    private javax.swing.JTextField jTextFieldHitPoints;
    private javax.swing.JTextField jTextFieldIntelligence;
    private javax.swing.JTextField jTextFieldIntelligenceModifier;
    private javax.swing.JTextField jTextFieldName;
    private javax.swing.JTextField jTextFieldStrengthModifier;
    private javax.swing.JTextField jTextFieldStrentgh;
    private javax.swing.JTextField jTextFieldWisdom;
    private javax.swing.JTextField jTextFieldWisdomModifier;
    // End of variables declaration//GEN-END:variables
}
